# การออกแบบและการพัฒนาแชทบอท เพื่อการท่องเที่ยวในจังหวัดขอนแก่น Chatbot design and development for tourism in Khon Kaen 

## บทคัดย่อ
งานวิจัยนี้พัฒนาแชทบอทท่องเที่ยวจังหวัดขอนแก่นบนแอป LINE โดยรวบรวมข้อมูลจากแบบสอบถาม รีวิว และโซเชียลมีเดีย มาวิเคราะห์และจัดหมวดหมู่สถานที่ท่องเที่ยว แชทบอทใช้เทคโนโลยี NLP ผ่าน Dialogflow เพื่อให้ตอบคำถามได้แม่นยำ และเก็บข้อมูลใน PostgreSQL หากไม่มีคำตอบในฐานข้อมูล จะดึงข้อมูลจากเว็บไซต์โดยใช้ web scraping เพิ่มเติม พร้อมบันทึกคำถามที่ตอบไม่ได้เพื่อนำไปปรับปรุงระบบต่อไป

#### เทคโนโลยีที่ใช้
- **Backend:** Node.js, Express.js  
- **NLP & Intent Matching:** Dialogflow  
- **ฐานข้อมูล:** PostgreSQL  
- **Messaging Platform:** LINE Messaging API  
- **อื่น ๆ:** Webhook สำหรับเชื่อมต่อ Dialogflow กับ Backend

#### ฟังก์ชันหลัก
- ตอบคำถามเกี่ยวกับสถานที่ท่องเที่ยว แยกตามประเภท เช่น แหล่งธรรมชาติ ร้านอาหาร คาเฟ่ และอำเภอต่าง ๆ  
- วิเคราะห์และจับคู่เจตนา (Intent Matching) ด้วย Dialogflow  
- เชื่อมต่อฐานข้อมูลเพื่อดึงข้อมูลสถานที่และรายละเอียดต่าง ๆ  
- ดึงข้อมูลจากเว็บไซต์ภายนอกในกรณีไม่มีข้อมูลในฐานข้อมูล (Web Scraping)  
- บันทึกประวัติการสนทนาและข้อมูลผู้ใช้  
- รองรับการใช้งานผ่าน LINE Application
  
#### เป้าหมายและขอบเขต
1.ข้อมูลที่ใช้พัฒนาแชทบอท
- คำถามเกี่ยวกับสถานที่ท่องเที่ยว
- ข้อมูลของสถานที่ท่องเที่ยว
- ข้อมูลที่แชทบอทสามารถตอบได้
2. ข้อมูลทั่วไป
- ชื่อสถานที่
- ที่อยู่
- เวลาเปิด-ปิด
- ค่าเข้าชม
- รูปภาพสถานที่
- รายละเอียดเพิ่มเติม

#### โครงสร้างระบบ (Architecture)
- ผู้ใช้ส่งข้อความผ่าน LINE Messaging API  
- ข้อความถูกส่งไปยัง Dialogflow เพื่อวิเคราะห์ Intent และ Entity  
- Dialogflow เรียก Webhook (Backend) เพื่อดึงข้อมูลจากฐานข้อมูลหรือเว็บภายนอก
- ข้อมูลสถานที่ท่องเที่ยวร้านอาหาร สามารถเพิ่มข้อมูลได้ที่หน้าเว็บสำหรับแอดมิน  
- Webhook ส่งคำตอบกลับไปยัง Dialogflow และต่อไปยัง LINE เพื่อแสดงผลกับผู้ใช้

#### การติดตั้งและใช้งานเบื้องต้น
1. ติดตั้ง Node.js และ PostgreSQL + Docker
2. ตั้งค่าฐานข้อมูล PostgreSQL ตาม schema ที่จัดเตรียมไว้
3. เปิด Docker เพิ่มเชื่อมต่อฐานข้อมูล PostgreSQL
4. รัน Backend ด้วยคำสั่ง `node app.js` หรือ `npm start`  
5. เชื่อมต่อ Webhook URL กับ Dialogflow และ LINE Messaging API
6. รัน Ngrok เพิ่ม ไปเชื่อต่อกับไดอะล็อกโฟลว์
7. ทดสอบแชทบอทผ่าน LINE Application
8. หน้า Admin เข้าโฟเดอร์ front-end รัน npm run dev


